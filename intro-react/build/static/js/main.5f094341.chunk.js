(this["webpackJsonpintro-react"]=this["webpackJsonpintro-react"]||[]).push([[0],{13:function(e,t,c){},14:function(e,t,c){"use strict";c.r(t);var n=c(1),o=c(4),r=c.n(o),a=c(6),s=c(2);var l=c(0),d=Object(n.createContext)();function u(e){var t=function(e,t){var c=Object(n.useState)(!1),o=Object(s.a)(c,2),r=o[0],a=o[1],l=Object(n.useState)(!0),d=Object(s.a)(l,2),u=d[0],i=d[1],j=Object(n.useState)(t),b=Object(s.a)(j,2),O=b[0],m=b[1];return Object(n.useEffect)((function(){setTimeout((function(){try{var c,n=localStorage.getItem(e);n?c=JSON.parse(n):(localStorage.setItem(e,JSON.stringify(t)),c=t),m(c),i(!1)}catch(r){a(r)}}),1500)}),[]),{item:O,saveItem:function(t){try{var c=JSON.stringify(t);localStorage.setItem(e,c),m(t)}catch(r){a(r)}},loading:u,error:r}}("TODOS_V1",[]),c=t.item,o=t.saveItem,r=t.loading,u=t.error,i=Object(n.useState)(""),j=Object(s.a)(i,2),b=j[0],O=j[1],m=Object(n.useState)(!1),x=Object(s.a)(m,2),h=x[0],f=x[1],p=c.filter((function(e){return!!e.completed})).length,v=c.length,T=[];T=!b.length>=1?c:c.filter((function(e){var t=e.text.toLowerCase(),c=b.toLowerCase();return t.includes(c)}));return console.log("Render antes del useEffect"),Object(n.useEffect)((function(){console.log("useEffect")}),[v]),console.log("Render despues del useEffect"),Object(l.jsx)(d.Provider,{value:{loading:r,error:u,totalTodos:v,completedTodos:p,searchValue:b,setSearchValue:O,searchedTodos:T,addTodo:function(e){var t=Object(a.a)(c);""!==e&&(t.push({completed:!1,text:e}),o(t))},completeTodo:function(e){var t=c.findIndex((function(t){return t.text===e})),n=Object(a.a)(c);n[t].completed=!n[t].completed,o(n)},deleteTodo:function(e){var t=c.findIndex((function(t){return t.text===e})),n=Object(a.a)(c);n.splice(t,1),o(n)},openModal:h,setOpenModal:f},children:e.children})}function i(){var e=Object(n.useContext)(d),t=e.totalTodos,c=e.completedTodos;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{className:"TodoCounter__title",children:"What's up"}),Object(l.jsxs)("h2",{className:"TodoCounter__counter",children:["Has completado ",c," de ",t," TODOs"]})]})}function j(){var e=Object(n.useContext)(d),t=e.searchValue,c=e.setSearchValue;return Object(l.jsx)("input",{className:"TodoSearch",value:t,onChange:function(e){c(e.target.value)},placeholder:"Busca tus actividades"})}function b(e){return Object(l.jsx)("section",{children:Object(l.jsx)("ul",{children:e.children})})}function O(e){return Object(l.jsxs)("li",{className:"TodoItem",children:[Object(l.jsx)("span",{className:"Icon Icon-check ".concat(e.completed&&"Icon-check--active"),onClick:e.onComplete,children:"\u2705"}),Object(l.jsx)("p",{className:"TodoItem-p ".concat(e.completed&&"TodoItem-p--completed"),children:e.text}),Object(l.jsx)("button",{onClick:e.onDelete,className:"Icon Icon-delete",children:"\ud83d\uddd1\ufe0f"})]})}function m(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),c=t[0],o=t[1],r=Object(n.useContext)(d),a=r.addTodo,u=r.setOpenModal;return Object(l.jsxs)("form",{className:"Form",onSubmit:function(e){e.preventDefault(),a(c),u(!1)},children:[Object(l.jsx)("label",{className:"Form__label",children:"Add new Task"}),Object(l.jsx)("textarea",{className:"Form__textarea",placeholder:"Describe tu actividad",value:c,onChange:function(e){o(e.target.value)}}),Object(l.jsxs)("div",{className:"Form__buttons",children:[Object(l.jsx)("button",{className:"Form__buttons--cancel",type:"button",onClick:function(){u(!1)},children:"Cancelar"}),Object(l.jsx)("button",{className:"Form__buttons--submit",type:"submit",children:"A\xf1adir"})]})]})}function x(e){var t=e.openModal,c=e.setOpenModal;return Object(l.jsx)("button",{className:"TodoButton",onClick:function(){c((function(e){return!e}))},children:t?"x":"+"})}function h(e){var t=e.children;return r.a.createPortal(Object(l.jsx)("div",{className:"Modal",children:t}),document.getElementById("modal"))}function f(e){e.error;return Object(l.jsx)("p",{className:"TodosError",children:"Aparentemente hubo un erorr.."})}function p(e){e.error;return Object(l.jsxs)("div",{className:"LoadingTodo-container",children:[Object(l.jsx)("span",{className:"LoadingTodo-completeIcon"}),Object(l.jsx)("p",{className:"LoadingTodo-text",children:"Cargando TODOs"}),Object(l.jsx)("span",{className:"LoadingTodo-deleteIcon"})]})}function v(e){e.error;return Object(l.jsx)("p",{className:"EmptyTodo",children:"Crea un nuevo TODOs"})}function T(){var e=Object(n.useContext)(d),t=e.error,c=e.loading,o=e.searchedTodos,r=e.completeTodo,a=e.deleteTodo,s=e.openModal,u=e.setOpenModal;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(i,{}),Object(l.jsx)(j,{}),Object(l.jsxs)(b,{children:[t&&Object(l.jsx)(f,{error:t}),c&&Object(l.jsx)(p,{}),!c&&!o.length&&Object(l.jsx)(v,{}),o.map((function(e){return Object(l.jsx)(O,{text:e.text,completed:e.completed,onComplete:function(){return r(e.text)},onDelete:function(){return a(e.text)}},e.text)}))]}),s&&Object(l.jsx)(h,{children:Object(l.jsx)(m,{})}),Object(l.jsx)(x,{setOpenModal:u})]})}c(13);var g=function(){return Object(l.jsx)(u,{children:Object(l.jsx)(T,{})})};r.a.render(Object(l.jsx)(g,{}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.5f094341.chunk.js.map